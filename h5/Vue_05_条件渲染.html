<!--
    Create by JetBrains IDEA
    User: Etertops
    Date: 2017/11/15
    Time: 9:20
-->
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,user-scalable=0">
	<title>Vue 条件渲染</title>
	<script src="../js/vue.js"></script>
</head>
<body>
<div id="conditional001">
	<p v-if="ok">Yes</p>
	<p v-else>No</p>
	<button @click="toggleOk">toggle ok</button>
</div>
<br>
<div id="conditional002" v-if="ok">
	<h1>Title</h1>
	<p>Paragraph 1</p>
	<p>Paragraph 2</p>
</div>
<br>
<div id="conditional003">
	<div v-if="randomNumber > 0.5">
		Now you see me because random number = {{randomNumber}} > 0.5
	</div>
	<div v-else>
		Now you generate number = {{randomNumber}} <= 0.5
	</div>
	<button @click="random">Math.random</button>
</div>
<br>
<div id="conditional004">
	<div v-if="type === 'A'">
		type = {{type}}
	</div>
	<div v-else-if="type === 'B'">
		type = {{type}}
	</div>
	<div v-else-if="type === 'C'">
		type = {{type}}
	</div>
	<div v-else>
		Not A/B/C, and type = {{type}}
	</div>
	<button @click="generate">generate A,B,C,D</button>
</div>
<br>
<div id="conditional005">
	复用input组件
	<div v-if="loginType === 'username'">
		<label>Username</label>
		<input placeholder="Enter your username">
	</div>
	<div v-else>
		<label>Email</label>
		<input placeholder="Enter your email address">
	</div>
	<button @click="toggleLoginType">toggle login type</button>
</div>
<br>
<div id="conditional006">
	不 复用input组件
	<div  v-if="loginType === 'username'">
		<label>Username</label>
		<input placeholder="Enter your username" key="username-input">
	</div >
	<div  v-else>
		<label>Email</label>
		<input placeholder="Enter your email address" key="email-input">
	</div >
	<button @click="toggleLoginType">toggle login type</button>
</div>
<br>
<div id="conditional007">
	<div v-show="ok">Hello! show</div>
	<div v-if="ok">Hello! if</div>
	<button @click="toggleOk">toggle ok</button>
</div>
</body>
<script>
	/**
	 * v-if    https://cn.vuejs.org/v2/guide/conditional.html#v-if
	 */
	new Vue({
		el: "#conditional001",
		data:{
			ok: false
		},
		methods: {
			toggleOk: function () {
				this.ok = this.ok ? false : true;
			}
		}
	});

	/**
	 * 在-lt-template-gt-元素上使用-v-if-条件渲染分组    https://cn.vuejs.org/v2/guide/conditional.html#在-lt-template-gt-元素上使用-v-if-条件渲染分组
	 */
	new Vue({
		el: "#conditional002",
		data: {
			ok: true
		}
	});

	/**
	 * v-else       https://cn.vuejs.org/v2/guide/conditional.html#v-else
	 */
	new Vue({
		el: "#conditional003",
		data:{
			randomNumber: Math.random()
		},
		methods:{
			random: function () {
				this.randomNumber = Math.random();
			}
		}
	});

	/**
	 * v-else-if         https://cn.vuejs.org/v2/guide/conditional.html#v-else-if
	 */
	new Vue({
		el: "#conditional004",
		data:{
			type: null
		},
		mounted: function () {
			this.type = this.generateABCD();
		},
		methods: {
			generateABCD: function () {
				var arr = ["A","B","C","D"];
				return arr[this.randomByTwoNumber(0, 4)];
			},
			randomByTwoNumber: function (min, max) {
				var range = Math.abs(max - min);
				var random = Math.random();
				if (min > max){
					min = min + max;
					max = min - max;
					min = min - max;
				}
				return min +  Math.floor(range * random);
			},
			generate: function () {
				this.type = this.generateABCD();
			}
		}
	});

	/**
	 * 用-key-管理可复用的元素     https://cn.vuejs.org/v2/guide/conditional.html#用-key-管理可复用的元素
	 */
	new Vue({
		el: "#conditional005",
		data:{
			loginType: null
		},
		mounted: function () {
			this.loginType = this.generateLoginType();
		},
		methods: {
			toggleLoginType: function () {
				this.loginType = this.loginType == "username" ? "email": "username";
			},
			generateLoginType: function () {
				var arr = ["username", "email"];
				return arr[Math.floor(Math.random() * 2)];
			}
		}
	});

	new Vue({
		el: "#conditional006",
		data:{
			loginType: null
		},
		mounted: function () {
			this.loginType = this.generateLoginType();
		},
		methods: {
			toggleLoginType: function () {
				this.loginType = this.loginType == "username" ? "email": "username";
			},
			generateLoginType: function () {
				var arr = ["username", "email"];
				return arr[Math.floor(Math.random() * 2)];
			}
		}
	});

	/**
	 * v-show    https://cn.vuejs.org/v2/guide/conditional.html#v-show
	 */
	new Vue({
		el: "#conditional007",
		data: {
			ok: true
		},
		methods: {
			toggleOk: function () {
				this.ok = this.ok ? false : true;
			}
		}
	});

	/**
	 * v-if-vs-v-show    https://cn.vuejs.org/v2/guide/conditional.html#v-if-vs-v-show
	 *
	 * v-if 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。
	 * v-if 也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。
	 * 相比之下，v-show 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。
	 * 一般来说，v-if 有更高的切换开销，而 v-show 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 v-show 较好；如果在运行时条件很少改变，则使用 v-if 较好。
	 */

	/**
	 * v-if-与-v-for-一起使用       https://cn.vuejs.org/v2/guide/conditional.html#v-if-与-v-for-一起使用
	 * 当 v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级
	 */

</script>
</html>